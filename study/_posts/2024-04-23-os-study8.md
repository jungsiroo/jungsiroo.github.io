---
layout: post
title: í‡´ê·¼ í›„ ìš´ì˜ì²´ì œ ì‹œë¦¬ì¦ˆ - ë©”ëª¨ë¦¬ ê´€ë¦¬
description: >
    ìš´ì˜ì²´ì œ ìŠ¤í„°ë”” ê¸°ë¡
hide_description: false
category: study
image:
  path: https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/8ebe7145-2b74-47b6-9158-174eb28a60ed
---

**í•´ë‹¹ ì¸ë„¤ì¼ì€ `Wonkook Lee` ë‹˜ì´ ë§Œë“œì‹  [`Thumbnail-Maker`](https://wonkooklee.github.io/thumbnail_maker/){:target="_blank"} ë¥¼ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤**
{:.figcaption}

* this unordered seed list will be replaced by the toc
{:toc}

# ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œ ë³€í™˜ì€ <br> OSê°€ ê´€ì—¬í•˜ì§€ ì•ŠëŠ”ë‹¤!!

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/b7176dcb-13d7-432e-baad-75cefa3c2749)

# Logical vs. Physical Address

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/09097320-5cba-423b-bc3a-964d7a75e886)

- ì£¼ì†Œ ë°”ì¸ë”© : ì£¼ì†Œë¥¼ ê²°ì •í•˜ëŠ” ê²ƒ
    - Symbolic Address â†’ Logical Address â†’ Physical Address
- **CPUê°€ ë³´ëŠ” ê±´ logical address ì„**

## ì£¼ì†Œ ë°”ì¸ë”© - í•˜ë“œì›¨ì–´ì˜ ë„ì›€ì´ ìˆë‹¤

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/45939136-680f-4710-8aef-df25be5d3f5c)

### Compile Time binding

- **ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ ì£¼ì†Œ**ê°€ ì»´íŒŒì¼ ì‹œ ì•Œë ¤ì§
- ì‹œì‘ ìœ„ì¹˜ ë³€ê²½ ì‹œ ì¬ì»´íŒŒì¼
- ì»´íŒŒì¼ëŸ¬ëŠ” **ì ˆëŒ€ ì½”ë“œ** ìƒì„±

### Load Time Binding â†’ ì‹¤í–‰ì‹œì‘ ë‹¨ê³„

- ë¡œë”ì˜ ì±…ì„í•˜ì— ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ ì£¼ì†Œ ë¶€ì—¬
- ì»´íŒŒì¼ëŸ¬ê°€ **ì¬ë°°ì¹˜ ê°€ëŠ¥ ì½”ë“œ**ë¥¼ ìƒì„±í•œ ê²½ìš° ê°€ëŠ¥

### Run Time binding

- í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ë„ì¤‘ì— **ë©”ëª¨ë¦¬ ìƒ ìœ„ì¹˜ë¥¼ ì˜®ê¸¸ ìˆ˜ ì‡ìŒ**
- cpuê°€ ì£¼ì†Œë¥¼ ì°¸ì¡°í•  ë•Œë§ˆë‹¤ bindingì„ ì ê²€
- **í•˜ë“œì›¨ì–´ì ì¸ ì§€ì›ì´ í•„ìš”**
    - base & limit registers, MMU â‡’ **OSê°€ í•˜ëŠ” ì¼ ì•„ë‹˜!!**
        - osê°€ í•˜ëŠ” ê±´ ë§ì´ ì•ˆë¨
        - ë©”ëª¨ë¦¬ì— í•œë²ˆ ì ‘ê·¼í•œë‹¤ê³  í–ˆëŠ”ë° osì— ê°€ëŠ” ê±° ìì²´ê°€ ì˜¤ë²„í—¤ë“œì„
        - ê·¸ëƒ¥ ë¹¨ë¦¬ ì£¼ì†Œ ë³€í™˜ì´ í•„ìš”í•¨
    - ì‹¤í–‰ë  ë•Œë§ˆë‹¤ Binding ìœ„ì¹˜ë¥¼ í™•ì¸í•´ë´ì•¼ë¨

# MMU

> ğŸ“¡ ë…¼ë¦¬ ì£¼ì†Œë¥¼ ë¬¼ë¦¬ ì£¼ì†Œë¡œ ë§¤í•‘í•´ì£¼ëŠ” **í•˜ë“œì›¨ì–´ ì¥ì¹˜**


![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/2dd4fe4a-39fe-4e83-8484-afaef0beb73f)

- CPUê°€ 346ë²ˆì§€ì˜ í”„ë¡œê·¸ë¨ì„ ìš”ì²­í•¨
- ë¬¼ë¦¬ ë©”ëª¨ë¦¬ì—ëŠ” 14,000ë²ˆì§€ì— ì˜¬ë¼ê°€ìˆìŒ
- ë”°ë¼ì„œ ì´ë¥¼ ë„ì™€ì£¼ëŠ” ë ˆì§€ìŠ¤í„° 2ê°œê°€ í•„ìš”í•¨
- **Base Register** : ë”í•´ì£¼ëŠ” ê°’
- **limit register** : ë…¼ë¦¬ì  ì£¼ì†Œì˜ ë²”ìœ„ (3,000)
    - ì•…ì˜ì ì¸ í”„ë¡œê·¸ë¨ë“¤ì˜ ê³µê²©ì„ ë§‰ê¸° ìœ„í•´
    

# ëª‡ê°€ì§€ ìš©ì–´

## Dynamic Loading

> í”„ë¡œì„¸ìŠ¤ ì „ì²´ë¥¼ ë©”ëª¨ë¦¬ì— ë¯¸ë¦¬ ë‹¤ ì˜¬ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **í•´ë‹¹ ë£¨í‹´ì´ ë¶ˆë ¤ì§ˆ ë•Œ** ë©”ëª¨ë¦¬ì— loadí•˜ëŠ” ê²ƒ 
>
> âœ“ **Loading : ë©”ëª¨ë¦¬ë¡œ ì˜¬ë¦¬ëŠ” ê²ƒ â‡’ ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“œëŠ” ê²ƒ**
> 
{:.lead}

- memory utilizationì˜ í–¥ìƒ
- ê°€ë”ì”© ì‚¬ìš©ë˜ëŠ” **ë§ì€ ì–‘ì˜ ì½”ë“œì˜ ê²½ìš° ìœ ìš©**
    - ì˜¤ë¥˜ ì²˜ë¦¬ ë£¨í‹´
- ìš´ì˜ì²´ì œì˜ íŠ¹ë³„í•œ ì§€ì› ì—†ì´ **í”„ë¡œê·¸ë¨ ìì²´ì—ì„œ** êµ¬í˜„ ê°€ëŠ¥
    - í˜„ëŒ€ì ì¸ ì‹œìŠ¤í…œì—ì„œëŠ” dynamic loadingì€ ì•„ë‹˜
    - ì§€ê¸ˆì€ ìš´ì˜ì²´ì œê°€ ì²˜ë¦¬í•¨

## Overlay

> ë©”ëª¨ë¦¬ì— í”„ë¡œì„¸ìŠ¤ì˜ ë¶€ë¶„ ì¤‘ ì‹¤ì œ í•„ìš”í•œ ì •ë³´ë§Œì„ ì˜¬ë¦¼
> 

- ì˜›ë‚  ì‹œìŠ¤í…œì—ì„œ ìœ ìš© â‡’ í”„ë¡œì„¸ìŠ¤ì˜ í¬ê¸°ê°€ ë©”ëª¨ë¦¬ë³´ë‹¤ í´ ë•Œ

## **Swapping (ì—¬ê¸°ì„œëŠ” í”„ë¡œì„¸ìŠ¤ í†µì§¸ë¡œë¥¼ ë§í•¨)**

> í”„ë¡œì„¸ìŠ¤ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ swap area(ë””ìŠ¤í¬)ë¡œ ì«“ì•„ë‚´ëŠ” ê²ƒ
> 

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/8a0eae4d-002c-4d61-9078-32a1ac610208)

- ì¼ë°˜ì ìœ¼ë¡œ **ì¤‘ê¸° ìŠ¤ì¼€ì¤„ëŸ¬(swapper)** ì— ì˜í•´ swap out ì‹œí‚¬ í”„ë¡œì„¸ìŠ¤ ì„ ì •
- ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¤„ë§ ì ìš©
- **ì»´íŒŒì¼ íƒ€ì„ í˜¹ì€ ë¡œë“œ íƒ€ì„ ë°”ì¸ë”©**ì—ì„œëŠ” **ì›ë˜** ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œ swap in í•´ì•¼ í•¨
    - ì´ë¯¸ ì •í•´ì ¸ìˆëŠ” ì£¼ì†Œì´ê¸° ë•Œë¬¸ (ë¹„íš¨ìœ¨ì )
- Run Time ë°”ì¸ë”©ì—ì„œëŠ” ì¶”í›„ ë¹ˆ ë©”ëª¨ë¦¬ ì˜ì—­ **ì•„ë¬´ ê³³ì—ë‚˜** ì˜¬ë¦´ ìˆ˜ ìˆìŒ
- ìŠ¤ì™‘ ì‹œê°„ì€ ëŒ€ë¶€ë¶„ì€ ìŠ¤ì™‘ë˜ëŠ” ì–‘ì— ë¹„ë¡€

### Paging Swapping

> í”„ë¡œì„¸ìŠ¤ ì „ì²´ë¥¼ ì´ë™í•˜ëŠ” ì‹œê°„ì´ ì—„ì²­ë‚˜ê¸°ì— ìµœì‹  ìš´ì˜ì²´ì œëŠ” í˜ì´ì§• ë‹¨ìœ„ë¡œ ìŠ¤ì™€í•‘ì„ ì§„í–‰í•¨
> 

## Dynamic Linking

> ë§í‚¹ì„ ì‹¤í–‰ ì‹œê°„ê¹Œì§€ ë¯¸ë£¨ëŠ” ê¸°ë²•
> 

### Static linking

- ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ íŒŒì¼ ì½”ë“œì— í¬í•¨
- ì‹¤í–‰ íŒŒì¼ì˜ í¬ê¸°ê°€ ì»¤ì§
- ë™ì¼í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ë¯€ë¡œ ë©”ëª¨ë¦¬ ë‚­ë¹„
    - ex) printf

### Dynamic Linking (DLL)

- ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì‹¤í–‰ ì‹œ ì—°ê²°ë¨
- ê³µìœ ë¥¼ í•˜ëŠ” ê°œë…ì´ê¸°ì— ì¤‘ë³µí•´ì„œ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ëŠ”ê²ƒì´ ì•„ë‹ˆë¼ shared libraryë¡œì¨ ì‚¬ìš©í•¨
- ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ë¶€ë¶„ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ **ë£¨í‹´ì˜ ìœ„ì¹˜ë¥¼ ì°¾ê¸° ìœ„í•œ stubì´ë¼ëŠ” ì‘ì€ ì½”ë“œ**ë¥¼ ë‘ 
- ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì´ë¯¸ ë©”ëª¨ë¦¬ì— ìˆìœ¼ë©´ ê·¸ ë£¨í‹´ì˜ ì£¼ì†Œë¡œ ê°€ê³  **ì—†ìœ¼ë©´ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì˜´**
- **OSì˜ ë„ì›€ì´ í•„ìš”**

# ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ì˜ ê´€ë¦¬

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/9a157695-f793-4689-bc65-5f6c4abb78c9)


> ë©”ëª¨ë¦¬ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‘ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì‚¬ìš©
> 
- OS ìƒì£¼ ì˜ì—­
    - interrupt vectorì™€ í•¨ê»˜ ë‚®ì€ ì£¼ì†Œ ì˜ì—­ ì‚¬ìš©
- ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì˜ì—­
    - ë†’ì€ ì£¼ì†Œ ì‚¬ìš©
    

# ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì˜ì—­ì˜ í• ë‹¹ ë°©ë²•

# **âœ”ï¸ ì—°ì† í• ë‹¹**

- ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ ì—°ì†ì ì¸ ê³µê°„ì— ì ì¬ë˜ë„ë¡ í•˜ëŠ” ê²ƒ (í”„ë¡œì„¸ìŠ¤ë¥¼ ì•ˆ ìª¼ê°œê³ )
    - ê³ ì • ë¶„í•  ë°©ì‹
        - ë©”ëª¨ë¦¬ë¥¼ ë¯¸ë¦¬ ë‚˜ëˆ„ì–´ë‘ëŠ” ê²ƒ
        - ë‚´ë¶€ ì¡°ê° (internal fragmentation): ë‚­ë¹„ë˜ëŠ” ì¡°ê°
        - ì™¸ë¶€ ì¡°ê° : ë¶„í• ì˜ í¬ê¸°ê°€ ì‘ì•„ ì•„ë¬´ í”„ë¡œì„¸ìŠ¤ë„ ë“¤ì–´ê°€ì§€ ëª»í•˜ëŠ” ê³µê°„
        - ìœµí†µì„±ì´ ì—†ìŒ
            - ë™ì‹œì— ë©”ëª¨ë¦¬ì— loadë˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ìˆ˜ê°€ ê³ ì •ë¨
            - ìµœëŒ€ ìˆ˜í–‰ ê°€ëŠ¥ í”„ë¡œê·¸ë¨ í¬ê¸° ì œí•œ
    
    - ê°€ë³€ ë¶„í•  ë°©ì‹
        - í”„ë¡œê·¸ë¨ì˜ í¬ê¸°ë¥¼ ê³ ë ¤í•´ì„œ í• ë‹¹
        - external fragmentation
            - ë§ì´ ì™¸ë¶€ ì¡°ê°ì´ì§€ ê·¸ì— ë§ëŠ” í”„ë¡œì„¸ìŠ¤ ìƒê¸°ë©´ ë‚­ë¹„ê°€ ì•„ë‹ìˆ˜ë„~?
- ìœ„ì—ì„œ ë³´ì•˜ë˜ base, limit registerë¥¼ í™œìš©í•´ì„œ ì£¼ì†Œ í• ë‹¹ì´ ê°€ëŠ¥í•˜ë‹¤

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/695ba1b1-f170-464d-832a-d5d00d1576ee)

## **Hole**

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/c1fb9898-5c0c-4d2d-91a1-111eff0dc0e5)

- ê°€ìš© ë©”ëª¨ë¦¬ ê³µê°„
- ë‹¤ì–‘í•œ í¬ê¸°ì˜ hole ë“¤ì´ ë©”ëª¨ë¦¬ ì—¬ëŸ¬ ê³³ì— í©ì–´ì ¸ìˆìŒ
- í”„ë¡œì„¸ìŠ¤ê°€ ë„ì°©í•˜ë©´ **ìˆ˜ìš© ê°€ëŠ¥í•œ holeì„ í• ë‹¹**
- ìš´ì˜ì²´ì œëŠ” ë‹¤ìŒì˜ ì •ë³´ë¥¼ ìœ ì§€
    - í• ë‹¹ ê³µê°„
    - ê°€ìš© ê³µê°„

## Storage-Allocation Problem

> ê°€ë³€ ë¶„í•  ë°©ì‹ì—ì„œ size nì¸ ìš”ì²­ì„ ë§Œì¡±í•˜ëŠ” ê°€ì¥ ì ì ˆí•œ hole ì„ ì°¾ëŠ” ë¬¸ì œ
> 

- First Fit
    - ìµœì´ˆë¡œ ì°¾ì•„ì§€ëŠ” holeì— í• ë‹¹
- Best Fit
    - sizeê°€ n ì´ìƒì¸ ê°€ì¥ ì‘ì€ hole ì„ ì°¾ì•„ì„œ í• ë‹¹
    - holeë“¤ì˜ ë¦¬ìŠ¤íŠ¸ê°€ í¬ê¸° ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ íƒìƒ‰ O(n)
    - ë§ì€ ìˆ˜ì˜ ì•„ì£¼ ì‘ì€ hole ë“¤ì´ ìƒì„±ë¨ (ì •í™•í•˜ê²Œ ë§ì¶”ê¸° ì–´ë µê¸° ë•Œë¬¸)
- Wort-fit
    - ê°€ì¥ í° holeì— í• ë‹¹
    - ê·¸ëƒ¥ ì œì¼ ì•ˆ ì¢‹ìŒ (ì‹œê°„ì ìœ¼ë¡œë‚˜ ê³µê°„ì ìœ¼ë¡œë‚˜)

## **compactation (ì••ì¶•)**

- **ì™¸ë¶€ ë‹¨í¸í™” ë¬¸ì œ**ë¥¼ í•´ê²°í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•
- ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í•œêµ°ë°ë¡œ ëª°ê³  hole ë“¤ì„ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì˜®ê²¨ **í° blockìœ¼ë¡œ**
- high cost
- ìµœì†Œí•œì˜ ë©”ëª¨ë¦¬ì˜ ì´ë™ìœ¼ë¡œ compactiationí•˜ëŠ” ë°©ë²•
- run time ì‹¤í–‰ì—ì„œë§Œ compactation ì´ ê°€ëŠ¥ â†’ ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œë¥¼ ê³„ì† ë³€í™”ì‹œí‚¤ê¸°ì—

# âœ”ï¸ **ë¶ˆì—°ì† í• ë‹¹**


> ğŸ“¡ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ **ì—¬ëŸ¬ ì˜ì—­ì— ë¶„ì‚°**ë˜ì–´ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆìŒ

> ê¸°ì¡´ì˜ base, limit ë ˆì§€ìŠ¤í„°ë¡œëŠ” ë‹¤ ì €ì¥í•  ìˆ˜ ì—†ê¸°ì— ë ˆì§€ìŠ¤í„°ë¡œëŠ” ê°ë‹¹ì´ ì•ˆëœë‹¤ â†’ í˜ì´ì§€ í…Œì´ë¸” í•„ìš”
> 

## Paging

- **í”„ë¡œì„¸ìŠ¤ì˜ ê°€ìƒ ë©”ëª¨ë¦¬**ë¥¼ ë™ì¼í•œ ì‚¬ì´ì¦ˆì˜ page ë‹¨ìœ„ë¡œ ë‚˜ëˆ” (ë³´í†µ 4KB)
- í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë¶ˆì—°ì†ì ìœ¼ë¡œ ì €ì¥ë¨
- ì¼ë¶€ëŠ” swap ì˜ì—­, ì¼ë¶€ëŠ” ë¬¼ë¦¬ ë©”ëª¨ë¦¬ì— ì €ì¥

**Basic Method**

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/022eefd9-b063-413e-99b8-55b7c69db1dd)

- **ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬**ë¥¼ ë™ì¼í•œ í¬ê¸°ì˜ **frame**ìœ¼ë¡œ ë‚˜ëˆ”
- **ë…¼ë¦¬ì  ë©”ëª¨ë¦¬**ë¥¼ ë™ì¼í•œ í¬ê¸°ì˜ **page**ë¡œ ë‚˜ëˆ” (frameê³¼ ê°™ì€ í¬ê¸°)
- ëª¨ë“  ê°€ìš© frameë“¤ì„ ê´€ë¦¬
- page tableì„ ì‚¬ìš©í•˜ì—¬ ë…¼ë¦¬ ì£¼ì†Œë¥¼ ë¬¼ë¦¬ ì£¼ì†Œë¡œ ë³€í™˜
- **ì™¸ë¶€ ë‹¨í¸í™”ê°€ ë°œìƒ ì•ˆí•¨**
    - ë‹¹ì—°í•œ ê²ƒ. ì´ë¯¸ ë‹¤ ë‚˜ëˆ ë†¨ê¸° ë•Œë¬¸ì— ì–´ë–¤ í˜ì´ì§€ë“  ë‹¤ ë„£ì„ ìˆ˜ ìˆìŒ
- ë‚´ë¶€ ë‹¨í¸í™” ë°œìƒ ê°€ëŠ¥
    - 4KB ì”© ì˜ë¼ë‚˜ê°€ë‹¤ ë³´ë©´ ë§ˆì§€ë§‰ ë¶€ë¶„ì— ì§œíˆ¬ë¦¬ ë¶€ë¶„ì´ ë‚¨ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/f4cc211f-572c-4d51-91bb-5fb6781e5e56)

- P : í˜ì´ì§€ ë²ˆí˜¸ (2^20 ë¹„íŠ¸ í•„ìš”)
- D : í˜ì´ì§€ ì•ˆì—ì„œ ì–¼ë§ˆë‚˜ ë–¨ì–´ì ¸ ìˆëŠ”ê°€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì˜¤í”„ì…‹ í¬ê¸° (2^12 ë¹„íŠ¸ í•„ìš”)
- 32bit í™˜ê²½ì—ì„œ **í”„ë¡œì„¸ìŠ¤ ê°€ìƒ ë©”ëª¨ë¦¬**ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” í¬ê¸°ëŠ” **4GB**
- ì´ë•Œ í•œ ì£¼ì†Œë‹¹ Byteì´ê³  í˜ì´ì§€ë¥¼ 4KBë¡œ ë‚˜ëˆ ë†¨ìœ¼ë‹ˆ ì•½ 100ë§Œ í¬ê¸°ì˜ í…Œì´ë¸”ì´ ì¡í˜

### Page Table

- **í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤** page tableì„ ê°€ì§€ê³  ìˆìŒ
- í˜ì´ì§€ í…Œì´ë¸”ì€ **ë©”ì¸ ë©”ëª¨ë¦¬**ì— ìƒì£¼
    - Page-table base register (PTBR)ê°€ page tableì„ ê°€ë¦¬í‚´
    - ë”°ë¼ì„œ í˜ì´ì§€ í…Œì´ë¸”ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ ì´ ë ˆì§€ìŠ¤í„°ì˜ ê°’ë§Œì„ ë³€í™”ì‹œí‚¤ë©´ ë¨
- Page-table length register (PTLR)ê°€ í…Œì´ë¸” í¬ê¸°ë¥¼ ë³´ê´€
- ëª¨ë“  ë©”ëª¨ë¦¬ **ì ‘ê·¼ ì—°ì‚°ì—ëŠ” 2ë²ˆì˜ ë©”ëª¨ë¦¬ ì ‘ê·¼ í•„ìš”**
    - page tableì„ ìœ„í•´ 1ë²ˆ (**ë©”ì¸ë©”ëª¨ë¦¬-DRAM** ì•ˆì— ìˆìŒ)
    - ì‹¤ì œ ë°ì´í„°/ëª…ë ¹ì–´ ì ‘ê·¼ 1ë²ˆ
- ì´ë¥¼ ìœ„í•´ ì†ë„ í–¥ìƒì„ ìœ„í•œ ìºì‹œë¥¼ ë‘ê³  ìˆìŒ
    - **ì£¼ì†Œ ë³€í™˜**ì„ ë¹ ë¥´ê²Œ í•´ì£¼ê¸° ìœ„í•œ translation look-aside buffer **(TLB) í•˜ë“œì›¨ì–´ ìºì‹œ**

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/8c841db5-6639-486f-8529-36c1e5968f96)

- frame ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ë©”ì¸ ë©”ëª¨ë¦¬ë¥¼ 2ë²ˆ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ìºì‹œí™”
- TLBì— ë¯¸ë¦¬ ì €ì¥ì‹œì¼œë‘ì–´ ë©”ì¸ ë©”ëª¨ë¦¬ ì ‘ê·¼ 1ë²ˆ
    - TLB ì ‘ê·¼ ì†ë„ > ë©”ëª¨ë¦¬ ì ‘ê·¼
- **TLBëŠ” ì¼ë¶€ë¶„ë§Œ ë‹´ê³  ìˆê¸°ì— missê°€ ëœ¨ë©´ í˜ì´ì§€ í…Œì´ë¸”ì„ ë´ì•¼ë¨**
- TLB ì—ì„œëŠ” p ì— ê´€í•´ ì„ í˜• íƒìƒ‰ì„ í•´ì•¼ë¨ â†’ O(n)
    - ë”°ë¼ì„œ ë³‘ë ¬ ì²˜ë¦¬ê°€ ë˜ëŠ” í•˜ë“œì›¨ì–´ë¥¼ ì‚¬ìš©í•¨
- ê° í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ì˜ í˜ì´ì§€ í…Œì´ë¸”ì„ **TLBì— ë‹´ê¸°ì— context switchê°€ ì¼ì–´ë‚˜ë©´ flush í•´ì¤˜ì•¼ë¨ (í° ì˜¤ë²„í—¤ë“œ)**

### Two Level Page Table

> ğŸ“¡ í˜„ëŒ€ì˜ ì»´í“¨í„°ëŠ” ì£¼ì†Œ ê³µê°„ì´ ë§¤ìš° í° í”„ë¡œê·¸ë¨ ì§€ì›


**32bit ì£¼ì†Œ ê³µê°„**

- page í¬ê¸°ê°€ 4KBì‹œ 1Mê°œì˜ í˜ì´ì§€ í…Œì´ë¸” í•„ìš”
- ê° í˜ì´ì§€ ì—”íŠ¸ë¦¬ê°€ 4Bì‹œ í”„ë¡œì„¸ìŠ¤ ë‹¹ 4Mì˜ í˜ì´ì§€ í…Œì´ë¸” í•„ìš”
- ê·¸ëŸ¬ë‚˜ ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë¨ì€ **4GBì˜ ì£¼ì†Œ ê³µê°„ ì¤‘ ì§€ê·¹íˆ ì¼ë¶€ë¶„ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ í˜ì´ì§€ í…Œì´ë¸” ë‚­ë¹„ê°€ ë„ˆë¬´ ì‹¬í•¨**

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/87255a88-2fcb-4d4f-bd5b-1c4addbe94ae)

- outer í˜ì´ì§€ í…Œì´ë¸”ì„ í•˜ë‚˜ ë” ë‘ë©´ ì‹œê°„ì ìœ¼ë¡œë‚˜ ê³µê°„ì ìœ¼ë¡œë‚˜ ì†í•´ ì•„ë‹ê¹Œ?

    â‡’ ì•„ë‹ˆë‹¤!!
    
- ë°”ê¹¥ í˜ì´ì§€ í…Œì´ë¸”ì€ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” NULL í¬ì¸í„°ë¥¼ ê°€ì§
- ê·¸ëŸ¬ë©´ ë°”ê¹¥ í˜ì´ì§€ í…Œì´ë¸”ì´ ê°€ë¥´í‚¤ëŠ” í˜ì´ì§€ í…Œì´ë¸”ì˜ í¬ê¸°ëŠ” ì–¼ë§ˆì¸ê°€?
    - 4KB! â‡’ ì¦‰ í”„ë ˆì„ í¬ê¸°ì™€ ë˜‘ê°™ì´ ë˜ì–´ì„œ direct pointerë¼ê³  ë´ë„ëœë‹¤
    - ê·¼ë° ì—”íŠ¸ë¦¬ëŠ” 4Bë¼ 1Kê°œì˜ ì—”íŠ¸ë¦¬ê°€ ìˆìŒ

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/63e4da35-a59f-43d4-9684-7d2a4b15d4da)

### Bit in a Page Table

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/9f4479f7-cf8e-4582-8288-42cd3d3d6877)

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/a00cdb25-73e4-41f3-aaad-614e36d69ffc)

- í•´ë‹¹ ì˜ì—­ì´ ì‹¤ì œ ë©”ëª¨ë¦¬ì— ìˆëŠ”ê°€ ì•„ë‹ˆë©´ ìŠ¤ì™‘ ì˜ì—­ì— ìˆëŠ”ê°€
- valid : ë©”ëª¨ë¦¬ ìœ„ì— ìˆë‹¤.
- invalid : ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜ í•„ìš” ì—†ê±°ë‚˜

**ë³´í˜¸ ë¹„íŠ¸ëŠ” ì™œ í•„ìš”í•œê°€?**

- ì ‘ê·¼ ì£¼ì²´ê°€ ì•„ë‹ˆë¼ page ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ (read / write ..)

### Inverted Page Table


> ğŸ“¡ í˜ì´ì§€ í…Œì´ë¸”ì´ í° ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€?



- ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ë³„ë¡œ ê·¸ ë…¼ë¦¬ ì£¼ì†Œì— ëŒ€ì‘í•˜ëŠ” **ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•´ í˜ì´ì§€ í…Œì´ë¸” ì—”íŠ¸ë¦¬ ì¡´ì¬**
- ëŒ€ì‘í•˜ëŠ” í˜ì´ì§€ê°€ ë©”ëª¨ë¦¬ì— ìˆë“  ì•„ë‹ˆë“  ê°„ì— **í˜ì´ì§€ í…Œì´ë¸”ì—ëŠ” ì—”íŠ¸ë¦¬ë¡œ ì¡´ì¬**

**Inverted Page Table**

- í˜ì´ì§€ í”„ë ˆì„ í•˜ë‚˜ ë‹¹ í˜ì´ì§€ í…Œì´ë¸”ì— í•˜ë‚˜ì˜ ì—”íŠ¸ë¦¬ë¥¼ ë‘” ê²ƒ
- ê° í˜ì´ì§€ í…Œì´ë¸” ì—”íŠ¸ë¦¬ëŠ” ê°ê°ì˜ ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ì˜ í˜ì´ì§€ í”„ë ˆì„ì´ ë‹´ê³  ì‡ëŠ” ë‚´ìš© í‘œì‹œ(process-id, processì˜ ë…¼ë¦¬ ì£¼ì†Œ)

*ë‹¨ì *

âœ”ï¸ í…Œì´ë¸” ì „ì²´ë¥¼ íƒìƒ‰

*ì¥ì *

âœ”ï¸ í˜‘ë ¥ ë ˆì§€ìŠ¤í„° ì‚¬ìš©(ë³‘ë ¬ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì§ â†’ ë”°ë¼ì„œ ë¹„ìŒˆ)

### Shared Page

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/f168c6c6-a6de-4b20-864a-28c35f846536)

- ë™ì¼í•œ í”„ë¡œê·¸ë¨ì¸ ê²½ìš°, ì½”ë“œ ë¶€ë¶„ì€ ë™ì¼í•˜ê³  ë°ì´í„°, ìŠ¤íƒë§Œ ë‹¤ë¥¼ ê²ƒ
- ì¦‰ ë™ì¼í•œ ì½”ë“œì˜ ì¹´í”¼ê°€ ë„ˆë¬´ ë§ì´ ì˜¬ë¼ê°€ë©´ ë‚­ë¹„!
- ë”°ë¼ì„œ ì—¬ëŸ¬ ì¹´í”¼ë¥¼ ì˜¬ë¦¬ì§€ë§ê³  í•˜ë‚˜ë§Œ ì˜¬ë ¤ì„œ ê³µìœ ë¥¼ í•˜ì! ë¼ëŠ” ì˜ë¯¸
- í”„ë¡œì„¸ìŠ¤ì˜ IPC ì¤‘ í•˜ë‚˜ì¸ shared memoryê°€ ì•„ë‹ˆë¼ **read only ë§Œ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ê³µìœ í•˜ëŠ” ê²ƒ!**
- shared codeëŠ” ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ ë™ì¼í•œ ë…¼ë¦¬ ì£¼ì†Œì— ìœ„ì¹˜í•´ì•¼ë¨
    - ì™œëƒ? Run time ë°”ì¸ë”©ì´ ì•„ë‹Œ ì´ìƒ ì£¼ì†ŒëŠ” ì´ë¯¸ ì •í•´ì§ â†’ **ì»´íŒŒì¼ì„ ìƒˆë¡œ í•´ì•¼ë¨**

## Segmentation

> ğŸ› í¬ê¸°ëŒ€ë¡œ ìë¥´ëŠ”ê²Œ ì•„ë‹ˆë¼ ì˜ë¯¸ ë‹¨ìœ„(ì½”ë“œ, ìŠ¤íƒ, ë°ì´í„°~) : Segment ë¡œ ìë¥´ëŠ” ê²ƒ



- ì‘ê²ŒëŠ” **í”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ëŠ” í•¨ìˆ˜ í•˜ë‚˜í•˜ë‚˜**ë¥¼ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ì •ì˜
- í¬ê²ŒëŠ” **í”„ë¡œê·¸ë¨ ì „ì²´ë¥¼ í•˜ë‚˜ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¡œ** ì •ì˜ ê°€ëŠ¥
- ì¼ë°˜ì ìœ¼ë¡œëŠ” **code, data, stack ë¶€ë¶„ì´ í•˜ë‚˜ì”©ì˜ ì„¸ê·¸ë¨¼íŠ¸**ë¡œ ì •ì˜ë¨

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/d9863e17-3810-4402-b847-8f1c6ee359b6)

- ê° segment ë³„ë¡œ ê·¸ í¬ê¸°ê°€ ë‹¤ë¥´ê¸°ì— limit / base ë‘ ê°œê°€ í•„ìš”í•¨
    - base : ë¬¼ë¦¬ ì£¼ì†Œ ì‹œì‘ ìœ„ì¹˜
    - limit : ì„¸ê·¸ë¨¼íŠ¸ì˜ ê¸¸ì´
- í•´ë‹¹ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë„˜ì–´ì„œëŠ” ì£¼ì†Œì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ìš”ì²­í•œê±´ì§€ë¥¼ í™•ì¸í•´ì•¼ë¨!

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/214f1bf3-c870-467b-abbc-0aabdd127527)

> ğŸ•¢ ì–´ë”” hole ì— ë„£ì–´ì•¼ í• ê¹Œ? (ê°ì í¬ê¸°ê°€ ë‹¤ë¥´ë‹¤!) â‡’ First fit / best fit



- ì˜ë¯¸ ë‹¨ìœ„ì´ê¸°ì— Protection ì´ ì•Œì•„ì„œ ì´ë£¨ì–´ì§ â‡’ ì˜ë¯¸ ë‹¨ìœ„ì´ê¸°ì— ë³´ì•ˆì´ë‚˜ ê³µìœ ì— ìˆì–´ í˜ì´ì§•ë³´ë‹¤ í›¨ì”¬ íš¨ê³¼ì 
- ê·¼ë° ì„¸ê·¸ë¨¼íŠ¸ê°€ ê·¸ë ‡ê²Œ ë§ì§€ ì•ŠìŒ(ì½”ë“œ, ìŠ¤íƒ ë°ì´í„°, í•¨ìˆ˜ ë“± ë‹¤ í•©í•´ë´¤ì ì–¼ë§ˆ ì•ˆë¨ - ì—”íŠ¸ë¦¬ ìˆ˜)
    - í˜„ì‹¤ì  êµ¬í˜„ ì¸¡ë©´ì—ì„œëŠ” í˜ì´ì§•ì´ ë„ˆë¬´ ê³µê°„ ë¹„íš¨ìœ¨
    - pure ì„¸ê·¸ë©˜í…Œì´ì…˜ì„ ê·¸ëŒ€ë¡œ ì“°ëŠ” ì‹œìŠ¤í…œì€ ì—†ìŒ
    - í˜ì´ì§• ê¸°ë²•ì„ ê·¼ê°„ìœ¼ë¡œ êµ¬ì¶•í•˜ê³  ì‡ìŒ â‡’ paging + segmentation

## Paged Segmentation

![image](https://github.com/jungsiroo/jungsiroo.github.io/assets/54366260/551d3342-500b-4c57-8a3f-e6988d090a21)

> ğŸ•¢ ì„¸ê·¸ë¨¼íŠ¸ì˜ ê¸¸ì´ = í˜ì´ì§€ì˜ ë°°ìˆ˜
>
> ì¦‰ í•œ ì„¸ê·¸ë¨¼íŠ¸ë§ˆë‹¤ í˜ì´ì§€ë¡œ ë‚˜ëˆ ë‘”ë‹¤.



- ê²°êµ­ì€ í˜ì´ì§€ ë‹¨ìœ„ëŒ€ë¡œ ë¬¼ë¦¬ë©”ëª¨ë¦¬ì— ë°°ì¹˜ë˜ëŠ” ê²ƒì´ë‹¤
- í•˜ì§€ë§Œ ê´€ë¦¬ëŠ” segment tableì„ í™œìš©í•´ì„œ ë‹¤ë£¬ë‹¤.
- í˜ì´ì§€ í…Œì´ë¸” ê°™ì€ ê²½ìš° í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ **ì„¸ê·¸ë¨¼íŠ¸ë§ˆë‹¤ ì¡´ì¬**
- í• ë‹¹ ë¬¸ì œê°€ ì—†ì–´ì§ â‡’ í˜ì´ì§€ëŒ€ë¡œ ê·¸ëƒ¥ ë°°ì¹˜í•˜ë‹ˆ
- protection ë¬¸ì œë„ í•´ê²° â‡’ ì„¸ê·¸ë¨¼íŠ¸ ë³„ë¡œ ë‚˜ëˆ„ì–´ ë†“ì•˜ìœ¼ë‹ˆ